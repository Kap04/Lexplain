/* Tailwind v4 */
@import "tailwindcss";

/* ---------- Theme tokens (light) ---------- */
@theme {
  --color-bg:            #FFFFFF;
  --color-muted:         #F5F6F7;    /* app background sections */
  --color-foreground:    #2E2E2E;    /* main text */
  --color-border:        #E5E7EB;

  --color-primary:       #1E3A8A;    /* navy (AI+trust) */
  --color-primary-600:   #17306B;
  --color-primary-foreground: #FFFFFF;

  --color-accent:        #C49A6C;    /* light brown (buttons) */
  --color-accent-600:    #A47148;
  --color-accent-100:    #F5E6D3;    /* soft beige for subtle fills */
  --color-accent-200:    #EAD8C1;

  --color-success:       #10B981;    /* safe clauses */
  --color-warning:       #F59E0B;    /* attention */
  --color-danger:        #DC2626;    /* risky */

  --radius-sm: 0.375rem; /* rounded-md */
  --radius-md: 0.75rem;  /* rounded-xl */
  --radius-lg: 1rem;     /* rounded-2xl */
}

/* ---------- Base resets ---------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body, #__next { height: 100%; }

body {
  background: var(--color-bg);
  color: var(--color-foreground);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Selection & scrollbar */
::selection { background: color-mix(in oklab, var(--color-primary) 20%, white); color: var(--color-foreground); }
* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-primary) var(--color-muted);
}
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background: var(--color-primary); border-radius: 9999px; }
*::-webkit-scrollbar-track { background: var(--color-muted); }

/* Links */
a { @apply underline decoration-transparent hover:decoration-current transition-colors; color: var(--color-primary); }

/* Headings â€“ minimal contrast bump */
h1,h2,h3,h4 { @apply font-semibold tracking-tight; color: #1F2937; }

/* Containers */
.section {
  @apply max-w-5xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* ---------- Reusable components ---------- */

/* Buttons */
.btn {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium transition
         rounded-[var(--radius-md)] focus:outline-none focus-visible:ring-2 ring-offset-2
         disabled:opacity-50 disabled:cursor-not-allowed;
  --tw-ring-color: color-mix(in oklab, var(--color-primary) 60%, white);
  --tw-ring-offset-color: var(--color-bg);
}

/* Primary (Navy) */
.btn-primary {
  @apply text-[var(--color-primary-foreground)];
  background: var(--color-primary);
}
.btn-primary:hover { background: var(--color-primary-600); }

/* Accent (Light Brown) */
.btn-accent {
  @apply text-[var(--color-primary-foreground)];
  background: var(--color-accent);
}
.btn-accent:hover { background: var(--color-accent-600); }

/* Outline (for secondary actions) */
.btn-outline {
  @apply border text-sm;
  border-color: var(--color-border);
  color: var(--color-foreground);
  background: transparent;
}
.btn-outline:hover {
  background: var(--color-muted);
}

/* Inputs */
.input, .textarea, .select {
  @apply w-full rounded-[var(--radius-sm)] border px-3 py-2 text-sm transition bg-white;
  border-color: var(--color-border);
}
.input:focus, .textarea:focus, .select:focus {
  @apply outline-none ring-2;
  --tw-ring-color: color-mix(in oklab, var(--color-primary) 45%, white);
}

/* Cards / Surfaces */
.card {
  @apply rounded-[var(--radius-lg)] border bg-white shadow-sm;
  border-color: var(--color-border);
}
.card-muted {
  @apply rounded-[var(--radius-lg)] border;
  border-color: var(--color-border);
  background: var(--color-muted);
}

/* Chips / badges */
.badge {
  @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
  background: var(--color-accent-100);
  color: #5B4636;
}

/* ---------- Chat bubbles ---------- */
.bubble {
  @apply max-w-[85%] rounded-[var(--radius-md)] px-3 py-2 text-sm shadow-sm;
}
.bubble-user {
  background: var(--color-accent-100);
  color: #3B2B22;
  border: 1px solid var(--color-accent-200);
}
.bubble-ai {
  background: white;
  border: 1px solid var(--color-border);
}




/* ---------- Clause highlighting ---------- */
.highlight-safe    { background: color-mix(in oklab, var(--color-success) 12%, white); }
.highlight-warn    { background: color-mix(in oklab, var(--color-warning) 14%, white); }
.highlight-danger  { background: color-mix(in oklab, var(--color-danger) 14%, white); }

/* ---------- Utility helpers ---------- */
.hr { @apply my-6 border-t; border-color: var(--color-border); }
.muted { color: #6B7280; }
.kbd {
  @apply rounded border px-1.5 py-0.5 text-[11px];
  border-color: var(--color-border);
  background: var(--color-muted);
}

/* Motion respect */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}
